# Feature Visibility Guide - AI Advice & Security

## Where to Find AI Advice Features

### Step 1: Create Your Profile
1. Open http://localhost:5000
2. Click "Create Your Profile"
3. Fill in all fields:
   - **Name**: Your Name
   - **Age**: 25-50 (recommended)
   - **Gender**: Male/Female
   - **Weight**: 50-100 kg
   - **Height**: 150-200 cm â† **NEW FIELD**
   - **Activity Level**: Moderately Active
   - **Sleep Hours**: 7-8
   - **Goals**: Weight Loss / Muscle Gain / General Health
4. Click "Generate Plan"

### Step 2: View AI Advice Section
After plan generation, you'll see 4 tabs:
- Overview
- Diet
- Exercise
- **Explanations** â† Click this tab

### Step 3: Find AI Advice Features

In the **Explanations** tab, you should see:

#### ğŸ¤– AI-Powered Personalized Advice Section
Located at the **TOP** of the Explanations tab, you'll see:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI-Powered Personalized Advice  [ğŸ”„ Regenerate] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ ğŸ¯ Key Priorities for Your Goal                â”‚
â”‚ - [Specific advice based on your profile]      â”‚
â”‚                                                 â”‚
â”‚ ğŸ½ï¸ Nutrition Tips                              â”‚
â”‚ - [Food recommendations]                       â”‚
â”‚                                                 â”‚
â”‚ ğŸ’ª Exercise Optimization                       â”‚
â”‚ - [Workout suggestions]                        â”‚
â”‚                                                 â”‚
â”‚ âš ï¸ Common Mistakes to Avoid                     â”‚
â”‚ - [Pitfalls to watch for]                      â”‚
â”‚                                                 â”‚
â”‚ âœ… Quick Wins This Week                        â”‚
â”‚ - [3 actionable items]                         â”‚
â”‚                                                 â”‚
â”‚ Was this helpful?                              â”‚
â”‚ [ğŸ‘ Yes] [ğŸ‘ No] [ğŸ˜ Neutral]                 â”‚
â”‚                                                 â”‚
â”‚ ğŸ“š Source: Generated using Google Gemini AI    â”‚
â”‚    with health and fitness expertise           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Feature Details

### 1. ğŸ¤– AI Advice Header
- **Location**: Top of Explanations tab
- **Content**: Personalized health and fitness advice
- **Generated by**: Google Gemini AI
- **Updates**: Every time you generate a new plan

### 2. ğŸ”„ Regenerate Button
- **Location**: Right side of AI advice header
- **Function**: Get alternative advice
- **How to use**: Click the button
- **Result**: Shows loading spinner, then new advice
- **Status**: Currently shows placeholder (ready for backend integration)

### 3. Feedback Buttons
- **Location**: Below AI advice content
- **Options**:
  - ğŸ‘ **Yes** - "Thanks! We're glad the advice was helpful."
  - ğŸ‘ **No** - "We'll work on improving the recommendations."
  - ğŸ˜ **Neutral** - "Thanks for the feedback!"
- **How to use**: Click any button
- **Result**: Button highlights, confirmation message appears
- **Status**: Fully functional (logged to browser console)

### 4. ğŸ“š Source Reference
- **Location**: Bottom of AI advice section
- **Content**: "Generated using Google Gemini AI with health and fitness expertise"
- **Purpose**: Transparency and attribution
- **Status**: Always visible

---

## If AI Advice is NOT Showing

### Troubleshooting Steps

#### Step 1: Check Browser Console
1. Press **F12** to open Developer Tools
2. Go to **Console** tab
3. Look for logs:
   - `Plan received: {...}`
   - `AI Advice: [content]`

#### Step 2: Check Network Tab
1. In Developer Tools, go to **Network** tab
2. Refresh page and create profile
3. Look for `/get_recommendations` request
4. Click it and check **Response** tab
5. Look for `"ai_advice"` field in JSON

#### Step 3: Verify API Key
1. Open `.env` file
2. Check `GOOGLE_API_KEY` is set
3. Verify it's not `your_api_key_here`
4. Restart Flask app

#### Step 4: Check Flask Logs
1. Look at terminal running Flask
2. Check for error messages
3. Look for "Warning: Could not generate AI advice"

### Common Issues & Solutions

| Issue | Cause | Solution |
|-------|-------|----------|
| AI section shows "being generated" | API call failed | Check API key, restart Flask |
| No AI section visible | ai_advice is empty | Wait 2-5 seconds, refresh page |
| Regenerate button doesn't work | Placeholder logic | This is expected (backend integration pending) |
| Feedback buttons not highlighting | JavaScript error | Check console for errors |
| Source reference not showing | CSS issue | Refresh page, clear cache |

---

## Security Features Visible in Interface

### 1. Session Security
- **What you see**: Login required to access app
- **What's happening**: Session validation on every page
- **How it works**: Your email stored in secure session

### 2. Input Validation
- **What you see**: Form validation on profile creation
- **What's happening**: Age (18-120), Weight (30-300), Height (100-250)
- **How it works**: Frontend validation + backend validation

### 3. Error Handling
- **What you see**: User-friendly error messages
- **What's happening**: Detailed errors logged server-side only
- **How it works**: Sensitive info not shown to users

### 4. Security Headers
- **What you see**: Nothing visible (background protection)
- **What's happening**: Browser receives security headers
- **How to verify**: 
  1. Open DevTools (F12)
  2. Go to Network tab
  3. Click any request
  4. Go to Response Headers
  5. Look for: `X-Content-Type-Options`, `X-Frame-Options`, etc.

---

## Testing Checklist

### Visual Verification
- [ ] AI advice section appears in Explanations tab
- [ ] Section has purple left border
- [ ] ğŸ¤– emoji visible in header
- [ ] Advice text is readable and formatted
- [ ] Regenerate button is clickable
- [ ] Feedback buttons (ğŸ‘ ğŸ‘ ğŸ˜) are visible
- [ ] Source reference shows at bottom

### Functionality Testing
- [ ] Click Regenerate button â†’ Shows loading spinner
- [ ] Click ğŸ‘ button â†’ Highlights and shows message
- [ ] Click ğŸ‘ button â†’ Highlights and shows message
- [ ] Click ğŸ˜ button â†’ Highlights and shows message
- [ ] Only one feedback button active at a time

### Content Testing
- [ ] Advice includes ğŸ¯ Key Priorities
- [ ] Advice includes ğŸ½ï¸ Nutrition Tips
- [ ] Advice includes ğŸ’ª Exercise Optimization
- [ ] Advice includes âš ï¸ Common Mistakes
- [ ] Advice includes âœ… Quick Wins
- [ ] Advice is personalized to your profile

### Security Testing
- [ ] Cannot access without login
- [ ] Session expires after inactivity
- [ ] Profile validation prevents invalid data
- [ ] Error messages are generic (no sensitive info)

---

## Expected AI Advice Content

### Example for Weight Loss Goal
```
ğŸ¯ Key Priorities for Your Goal
- Create a caloric deficit of 500-750 calories daily
- Maintain high protein intake (1.6-2.2g per kg)
- Focus on compound exercises for maximum efficiency

ğŸ½ï¸ Nutrition Tips
- Swap refined carbs for whole grains
- Eat protein with every meal
- Stay hydrated with 2.5-3L water daily

ğŸ’ª Exercise Optimization
- Perform strength training 3-4x per week
- Add 20-30 min cardio on rest days
- Focus on progressive overload

âš ï¸ Common Mistakes to Avoid
- Cutting calories too aggressively
- Neglecting strength training

âœ… Quick Wins This Week
- Replace sugary drinks with water
- Add 10,000 steps daily
- Meal prep for 3 days
```

### Example for Muscle Gain Goal
```
ğŸ¯ Key Priorities for Your Goal
- Consume 300-500 calorie surplus daily
- Prioritize protein intake (2.2g per kg body weight)
- Progressive overload in strength training

ğŸ½ï¸ Nutrition Tips
- Eat 4-5 meals per day
- Include carbs around workouts
- Supplement with creatine and whey protein

ğŸ’ª Exercise Optimization
- Focus on compound lifts (squat, bench, deadlift)
- Train each muscle group 2x per week
- Gradually increase weight each week

âš ï¸ Common Mistakes to Avoid
- Eating too much (excess fat gain)
- Inconsistent training

âœ… Quick Wins This Week
- Track your daily calories
- Increase protein intake by 20g
- Add 2 extra sets to your workouts
```

---

## Performance Expectations

### Response Times
- **Page Load**: < 2 seconds
- **AI Advice Generation**: 2-5 seconds
- **Feedback Submission**: < 100ms
- **Regenerate Action**: < 3 seconds

### What You'll See
1. **Profile Creation**: Instant
2. **Plan Generation**: 2-5 seconds (loading spinner shows)
3. **AI Advice**: Appears automatically in Explanations tab
4. **Feedback**: Instant response when clicked

---

## Browser Compatibility

### Tested & Working
- âœ… Chrome 90+
- âœ… Firefox 88+
- âœ… Safari 14+
- âœ… Edge 90+
- âœ… Mobile browsers (iOS Safari, Chrome Mobile)

### If Not Working
1. Try clearing browser cache (Ctrl+Shift+Delete)
2. Try different browser
3. Check console for JavaScript errors (F12)
4. Restart Flask app

---

## Next Steps

1. **Test the Features**:
   - Create a profile
   - View AI advice
   - Test feedback buttons
   - Try regenerate button

2. **Check Security**:
   - Try accessing without login
   - Check security headers (DevTools)
   - Test input validation

3. **Report Issues**:
   - Check browser console for errors
   - Check Flask logs
   - Note exact steps to reproduce

4. **Provide Feedback**:
   - Is advice helpful?
   - Is interface clear?
   - Any missing features?

---

## Support

**Documentation**: See `LLM_INTEGRATION_GUIDE.md`
**Security**: See `SECURITY_GUIDE.md`
**Testing**: See `TESTING_GUIDE.md`

---

**Last Updated**: November 23, 2024
**Status**: âœ… Features Ready for Testing
